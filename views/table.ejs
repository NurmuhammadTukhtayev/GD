<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Free Bootstrap Admin Template : Binary Admin</title>
    <!-- BOOTSTRAP STYLES-->
    <link href="assets/css/bootstrap.css" rel="stylesheet" />
    <!-- FONTAWESOME STYLES-->
    <link href="assets/css/font-awesome.css" rel="stylesheet" />
    <!-- MORRIS CHART STYLES-->

    <!-- CUSTOM STYLES-->
    <link href="assets/css/custom.css" rel="stylesheet" />
    <!-- GOOGLE FONTS-->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' />
    <!-- TABLE STYLES-->
    <link href="assets/js/dataTables/dataTables.bootstrap.css" rel="stylesheet" />
</head>

<body>
    <%- include('nav')%>
        <div id="page-wrapper">
            <div id="page-inner">
                <div class="row">
                    <div class="col-md-12">
                        <h2>Table Examples</h2>
                        <h5>Welcome Admin, Love to see you back. </h5>
                    </div>
                </div>
                <hr/>
                <p id="demo">User count:</p>
                <div class="input-group input-group-sm mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="inputGroup-sizing-sm">Search for Firstname:</span>
                    </div>
                    <input type="text" class="form-control" aria-label="Small" aria-describedby="inputGroup-sizing-sm" id="mans"
                       onkeyup="man(this.value)">
                       <span class="input-group-text" id="inputGroup-sizing-sm">Search for Email:</span>
                       <input type="text" class="form-control" aria-label="Small" aria-describedby="inputGroup-sizing-sm" id="mans"
                       onkeyup="san(this.value)">
                    </div>
                <br>
                <script>
 function man(e) {
                        var newadata =[];
                        var numberadata=[];
                        for (i = 0; i < data.length; i++) {
                            var k=data[i].firstname.toLowerCase();
                            if (k.search(e.toLowerCase()) === 0 && numberadata.indexOf(i)===-1)  {
                                newadata.push(data[i]);
                                numberadata.push(i);
                            }
                        }
                        tableInsert(newadata);
                    }
                    function san(e) {
                        var newadata =[];
                        var numberadata=[];
                        for (i = 0; i < data.length; i++) {
                            var k=data[i].email.toLowerCase();
                            if (k.search(e.toLowerCase()) === 0 && numberadata.indexOf(i)===-1)  {
                                newadata.push(data[i]);
                                numberadata.push(i);
                            }
                        }
                        tableInsert(newadata);
                    }
                </script>
                <div class="row">
                    <div class="col-md-12">
                        <!-- Advanced Tables -->
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                Advanced Tables
                            </div>
                            <div class="panel-body">
                                <div class="table-responsive">
                                    <table class="table table-striped table-bordered table-hover"
                                        id="dataTables-example">
                                        
                                        <tbody id="usersbody">
                                            <!-- <tr class="odd gradeX">
                                            <td>Trident</td>
                                            <td>Internet Explorer 4.0</td>
                                            <td>Win 95+</td>
                                            <td class="center">4</td>
                                            <td class="center">X</td>
                                        </tr> -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!--End Advanced Tables -->
                    </div>
                </div>
          <script>
                    var table = document.getElementById('dataTables-example');
                    var data =<%- JSON.stringify(data) %>
                    
 document.getElementById('demo').innerHTML+=data.length;
                    tableInsert(data);
                    function tableInsert(adata){
                        var z = '';
                        for (let i = 0; i <adata.length;i++){
                        var thead=`<thead>
                                        <tr>
                                                <th>Num</th>
                                                <th>Who</th>
                                                <th>First Name</th>
                                                <th>Last Name</th>
                                                <th>Password</th>
                                                <th>Email</th>
                                                <th>Date</th>
                                            </tr>
                                        </thead>`
                            var row = `
                <tr class="odd gradeX">
                    <td>${i+1}</td>
                    <td>${adata[i].member_level}</td>
                                            <td>${adata[i].firstname}</td>
                                            <td>${adata[i].lastname}</td>
                                            <td class="center">${adata[i].pass}</td>
                                            <td class="center">${adata[i].email}</td>
                                            <td class="center">${adata[i].date}</td>
                    </tr>`
                if (i===0){
                    z+=thead;
                }
               z+= row;
                        }
                        table.innerHTML=z;
                    }
                </script>
                <!-- /. ROW  -->
                <!-- /. PAGE WRAPPER  -->
                <!-- /. WRAPPER  -->
                <!-- SCRIPTS -AT THE BOTOM TO REDUCE THE LOAD TIME-->
                <!-- JQUERY SCRIPTS -->
                <script src="assets/js/jquery-1.10.2.js"></script>
                <!-- BOOTSTRAP SCRIPTS -->
                <script src="assets/js/bootstrap.min.js"></script>
                <!-- METISMENU SCRIPTS -->
                <script src="assets/js/jquery.metisMenu.js"></script>
                <!-- DATA TABLE SCRIPTS -->
                <script src="assets/js/dataTables/jquery.dataTables.js"></script>
                <script src="assets/js/dataTables/dataTables.bootstrap.js"></script>
                <script>
                    $(document).ready(function () {
                        $('#dataTables-example').dataTable();
                    });
                </script>
                <!-- CUSTOM SCRIPTS -->
                <script src="assets/js/custom.js"></script>
</body>
</html>